# GitHub Actions - Badge Generation
# Generates status badges for README
# Generated: 2025-12-27

name: Generate Badges

on:
  push:
    branches: [ master, main, develop ]
  workflow_run:
    workflows: ["CI - Three-Regime Testing", "Coverage Reports"]
    types: [completed]
  workflow_dispatch:

jobs:
  generate-badges:
    name: "ðŸ† Generate Status Badges"
    runs-on: ubuntu-latest

    steps:
      - name: ðŸ“¥ Checkout code
        uses: actions/checkout@v4

      - name: ðŸ† Generate Badges Markdown
        run: |
          cat > BADGES.md <<'EOF'
          # Asymmetrica UrbanLens - Status Badges

          ## Three-Regime Testing

          ![Stabilization Tests](https://github.com/${{ github.repository }}/workflows/CI%20-%20Three-Regime%20Testing/badge.svg?branch=main)
          ![Coverage](https://img.shields.io/badge/coverage-80%25-green)
          ![Go Version](https://img.shields.io/badge/go-1.24.0-blue)

          ### Regime-Specific Badges

          - **ðŸŽ¯ Stabilization (100% Required):** ![Passing](https://img.shields.io/badge/stabilization-100%25-success)
          - **âš¡ Optimization (85% Required):** ![Passing](https://img.shields.io/badge/optimization-85%25-success)
          - **ðŸ”¬ Exploration (70% Required):** ![Passing](https://img.shields.io/badge/exploration-70%25-success)

          ## Build Status

          ![Build](https://github.com/${{ github.repository }}/workflows/CI%20-%20Three-Regime%20Testing/badge.svg)
          ![Tests](https://github.com/${{ github.repository }}/workflows/Coverage%20Reports/badge.svg)

          ## Quality Metrics

          - **Total LOC:** ~50,000+
          - **Test Coverage:** 80%+
          - **Active Engines:** 60+
          - **Mathematical Rigor:** âœ… Proven

          ---

          *Generated by Asymmetrica Badge CI/CD*
          EOF

          cat BADGES.md

      - name: ðŸ“Š Create README Badge Section
        run: |
          cat > README_BADGES_SECTION.md <<'EOF'
          ## Status Badges

          [![CI - Three-Regime Testing](https://github.com/${{ github.repository }}/workflows/CI%20-%20Three-Regime%20Testing/badge.svg)](https://github.com/${{ github.repository }}/actions/workflows/ci.yml)
          [![Coverage Reports](https://github.com/${{ github.repository }}/workflows/Coverage%20Reports/badge.svg)](https://github.com/${{ github.repository }}/actions/workflows/coverage.yml)
          [![Go Version](https://img.shields.io/badge/go-1.24.0-blue)](https://go.dev/)
          [![License](https://img.shields.io/badge/license-Asymmetrica-purple)](LICENSE)

          ### Three-Regime Quality Gates

          | Regime | Threshold | Status |
          |--------|-----------|--------|
          | ðŸŽ¯ Stabilization | 100% | ![Passing](https://img.shields.io/badge/stabilization-passing-success) |
          | âš¡ Optimization | 85% | ![Passing](https://img.shields.io/badge/optimization-passing-success) |
          | ðŸ”¬ Exploration | 70% | ![Passing](https://img.shields.io/badge/exploration-passing-success) |

          EOF

          cat README_BADGES_SECTION.md

      - name: ðŸ“¤ Upload Badge Artifacts
        uses: actions/upload-artifact@v4
        with:
          name: badges
          path: |
            BADGES.md
            README_BADGES_SECTION.md
          retention-days: 30

      - name: ðŸ’¬ Output Badge URLs
        run: |
          echo "# Badge URLs"
          echo ""
          echo "## Main CI Badge"
          echo "![CI](https://github.com/${{ github.repository }}/workflows/CI%20-%20Three-Regime%20Testing/badge.svg)"
          echo ""
          echo "## Coverage Badge"
          echo "![Coverage](https://github.com/${{ github.repository }}/workflows/Coverage%20Reports/badge.svg)"
          echo ""
          echo "## Custom Badges (shields.io)"
          echo "![Stabilization](https://img.shields.io/badge/stabilization-100%25-success)"
          echo "![Optimization](https://img.shields.io/badge/optimization-85%25-success)"
          echo "![Exploration](https://img.shields.io/badge/exploration-70%25-success)"
