/* ================================================================
   URBAN LENS - Global Styles
   Wabi-Sabi aesthetic for research-appropriate interface
   ================================================================ */

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&family=Lora:ital,wght@0,400;0,500;0,600;1,400&family=Outfit:wght@300;400;500;600&display=swap');

:root {
    /* === LOGO-DERIVED PALETTE === */
    --paper: #F5F0E6;
    --paper-light: #FAF7F0;
    --paper-dark: #E8E0D0;

    --gold: #C5A059;
    --gold-light: #D4B574;
    --gold-dark: #A68542;

    --ink: #3D3835;
    --ink-light: #5A5550;
    --ink-faint: #8A8580;

    --forest: #4A6B52;
    --forest-light: #5D8066;
    --forest-dark: #3A5542;

    --seal: #8B5A3C;
    --seal-light: #A06E4E;
    --seal-dark: #6E4830;

    --line: #A8A098;
    --line-light: #C5C0B8;

    /* === MATHEMATICAL CONSTANTS === */
    --phi: 1.618033988749;
    --fib-1: 8px;
    --fib-2: 13px;
    --fib-3: 21px;
    --fib-4: 34px;
    --fib-5: 55px;
    --fib-6: 89px;
    --fib-7: 144px;

    /* === ANIMATION TIMING (Fibonacci ms) === */
    --duration-instant: 89ms;
    --duration-fast: 144ms;
    --duration-normal: 233ms;
    --duration-slow: 377ms;
    --duration-very-slow: 610ms;

    /* === TYPOGRAPHY === */
    --font-display: 'Cinzel', serif;
    --font-body: 'Lora', serif;
    --font-ui: 'Outfit', sans-serif;

    /* === LAYOUT (87.532% Attractor) === */
    --content-width: 87.532%;
    --max-content: 1260px;
}

/* === RESET === */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-body);
    background: var(--paper);
    color: var(--ink);
    min-height: 100vh;
    overflow-x: hidden;
    transition: all var(--duration-slow) ease;
}

/* === PAPER TEXTURE (Full Immersion) === */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.06'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
    mix-blend-mode: multiply;
}

/* === SCROLLBAR STYLING === */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--paper);
}

::-webkit-scrollbar-thumb {
    background: var(--line);
    border-radius: 8px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--gold);
}

/* === SELECTION === */
::selection {
    background: var(--gold-light);
    color: var(--ink);
}

/* === FOCUS STYLES === */
:focus-visible {
    outline: 2px solid var(--gold);
    outline-offset: 2px;
}

/* === BUTTONS === */
button {
    font-family: var(--font-ui);
    cursor: pointer;
}

button:disabled {
    cursor: not-allowed;
}

/* === INPUTS === */
input, textarea {
    font-family: inherit;
}

/* === LINKS === */
a {
    color: var(--forest);
    text-decoration: none;
    transition: color var(--duration-fast) ease;
}

a:hover {
    color: var(--forest-dark);
    text-decoration: underline;
}

/* === œÜ BREATHING ANIMATION === */
/* 8-second cycle based on golden ratio proportions */
@keyframes phi-breathe {
    0%, 100% {
        opacity: 0.85;
        transform: scale(1);
    }
    /* Inhale: 30.9% of cycle (œÜ‚Åª¬≤) = 2.472s */
    30.9% {
        opacity: 1;
        transform: scale(1.008);
    }
    /* Hold: 19.1% (œÜ‚Åª¬≥) */
    50% {
        opacity: 1;
        transform: scale(1.008);
    }
    /* Exhale: 50% (remaining) */
}

@keyframes phi-pulse {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(197, 160, 89, 0);
    }
    50% {
        box-shadow: 0 0 21px 8px rgba(197, 160, 89, 0.15);
    }
}

@keyframes phi-glow {
    0%, 100% {
        filter: brightness(1);
    }
    50% {
        filter: brightness(1.05);
    }
}

/* Apply breathing to key elements */
.phi-breathe {
    animation: phi-breathe 8s ease-in-out infinite;
}

.phi-pulse {
    animation: phi-pulse 8s ease-in-out infinite;
}

.phi-glow {
    animation: phi-glow 8s ease-in-out infinite;
}

/* === REASONING PHASE COLORS === */
.phase-intake { color: var(--forest); }
.phase-analysis { color: var(--gold); }
.phase-synthesis { color: var(--seal); }
.phase-insight { color: var(--forest-dark); }
.phase-complete { color: var(--ink); }

/* === PROOF BADGE === */
.proof-badge {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    padding: 3px 8px;
    background: var(--paper-light);
    border: 1px solid var(--line-light);
    border-radius: 8px;
    font-family: var(--font-ui);
    font-size: 11px;
    color: var(--ink-faint);
    cursor: help;
    transition: all var(--duration-fast) ease;
}

.proof-badge:hover {
    background: var(--gold-light);
    border-color: var(--gold);
    color: var(--ink);
}

.proof-badge::before {
    content: 'üî¨';
    font-size: 10px;
}

/* === RESEARCH MODE THEME === */
.research-mode {
    --accent: var(--forest);
    --accent-light: var(--forest-light);
    --accent-dark: var(--forest-dark);
}
